\RequirePackage[l2tabu, orthodox]{nag} 

\documentclass[oneside]{um}

%% **************** PACKAGES ******************
\usepackage{blindtext}
\usepackage{pdfpages}  % This causes the error if not installed in MiKTeX

%% --- TABLE AND GRAPHICS SUPPORT ---
\usepackage{booktabs}    % For professional table lines (\toprule, \midrule)
\usepackage{longtable}   % For tables that span multiple pages
\usepackage{pdflscape}   % For rotating wide tables
\usepackage{array}       % For better column formatting
\usepackage{ragged2e}    % For text wrapping inside tables
\usepackage{tabularx}    % For auto-width tables
\usepackage{makecell}    % For multi-line headers
\usepackage{microtype}   % Improves font spacing
\usepackage{amssymb}     % Provides the \checkmark symbol
\usepackage{xcolor}      % For green/red colors
\usepackage{amsmath}     % Standard math package

%% --- CUSTOM DEFINITIONS ---
% This allows you to use \cmark and \xmark in your table
\newcommand{\cmark}{\textcolor{green!60!black}{\checkmark}}
\newcommand{\xmark}{\textcolor{red}{$\times$}}

%% --- CITATION FORMATTING ---
\bibpunct{(}{)}{;}{a}{,}{,} 
\setlength{\bibsep}{1em}            % Adds spacing between references
\renewcommand{\bibname}{References} % Renames "Bibliography" to "References"

%% **************** THESIS DATA ******************
\title{Optimizing the Household\\
       Waste Segregation Policy in\\
       the Municipality of Bacolod:\\
       An Agent-Based Modeling and\\
       Deep Reinforcement Learning Approach}
       
\tagline{\small Advancing Smart Governance in Bacolod through Adaptive AI Simulation}

\author{Hussam M. Bansao\\
        Jemar John J. Lumingkit}
        
\supervisor{Dante D. Dinawanao, M.Sc.}

\department{Department of Computer Science}     
\faculty{College of Computer Studies}        
\degree{B.S. in Computer Science}                   
\doctype{undergraduate thesis}                   
\degreedate{December, 2025}                  

%% ******** DOCUMENT SETTINGS *************
\graphicspath{{./images/}{./chap1/images/}}   
\makeindex
\usepackage[none]{hyphenat} % Disables hyphenation (optional)
\sloppy
\parskip 7.2pt

%% !!! CRITICAL FIX FOR TEMPLATE !!!
\makeatletter
% This block enables the \if@openright commands to work inside the document
\begin{document}
\frontmatter 
    \maketitle
    \input{frontmatter/copyright}          
    %\input{frontmatter/originality}       
    \input{frontmatter/dedication}         
    \input{frontmatter/acknowledgements}   
    
    \input{frontmatter/abstract}
    \if@openright\cleardoublepage\else\clearpage\fi
    
    \tableofcontents*
    \if@openright\cleardoublepage\else\clearpage\fi
    
    \listoffigures*
    \if@openright\cleardoublepage\else\clearpage\fi
    
    \listoftables*
    \if@openright\cleardoublepage\else\clearpage\fi
    
    \input{frontmatter/abbreviations}
    \if@openright\cleardoublepage\else\clearpage\fi

\makeatother
%% !!! FIX ENDS HERE !!!

\pagestyle{umpage}
\mainmatter 
    \input{chap1/introduction_main} 
    \input{chap2/rrl_main}
    \input{chap3/methodology_main}
    \input{chap4/results_and_discussion_main}
    \input{chap5/evaluation_main}
    \input{chap6/conclusions_main}
    \appendix
        \input{appA/appendix_a_main}     
        \input{appB/appendix_b_main}     
        \input{appC/appendix_c_main} 

{\backmatter
    \if@openright\cleardoublepage\else\clearpage\fi
    \bibliographystyle{um-plainnat} 
    {\footnotesize\bibliography{bibliography}}
    \printindex
}

\end{document}